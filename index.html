<!DOCTYPE html>
<html lang="fr">
<head>
    <title>League of Win LOW</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Best way to determine which league champion is the best in what situation">
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <header>
        <img src=".\img\logo-v1.png" alt="logo" class="logo-image">
    </header>
 
    <main>
        <div style="display: flex;">
            <div style="width: 50%;">
                <table>
                    <tr>
                        <th><div><img id="a1-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Aatrox_0.jpg"/><form autocomplete="off"><div class="autocomplete"> <input id="a1" class="allie champInputs" type="text" placeholder="Champions"></div></form></div></th>
                        <th><div><img id="a2-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Kayn_0.jpg"/><form autocomplete="off"><div class="autocomplete"> <input id="a2" class="allie champInputs" type="text" placeholder="Champions"></div></form></div></th>
                        <th><div><img id="a3-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Vladimir_0.jpg"/><form autocomplete="off"><div class="autocomplete"> <input id="a3" class="allie champInputs" type="text" placeholder="Champions"></div></form></div></th>
                        <th><div><img id="a4-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Varus_0.jpg"/><form autocomplete="off"><div class="autocomplete"> <input id="a4" class="allie champInputs" type="text" placeholder="Champions"></div></form></div></th>
                        <th><div><img id="a5-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Pyke_0.jpg"/><form autocomplete="off"><div class="autocomplete"> <input id="a5" class="allie champInputs" type="text" placeholder="Champions"></div></form></div></th>
                    </tr>
					    <tr>
							<td colspan="5" style="text-align: center; font-size: 32px; font-weight: bold; color: white; padding-top: 6vh; padding-bottom: 3vh;">VS</td>
						</tr>
                    <tr>
                        <th><div class="champ-container"><div style="height: 27px;"><form autocomplete="off"><div class="autocomplete"> <input id="e1" class="ennemie champInputs" type="text" placeholder="Champions"></div></form></div><img id="e1-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Chogath_0.jpg"/></div></th>
						<th><div class="champ-container"><div style="height: 27px;"><form autocomplete="off"><div class="autocomplete"> <input id="e2" class="ennemie champInputs" type="text" placeholder="Champions"></div></form></div><img id="e2-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Khazix_0.jpg"/></div></th>
						<th><div class="champ-container"><div style="height: 27px;"><form autocomplete="off"><div class="autocomplete"> <input id="e3" class="ennemie champInputs" type="text" placeholder="Champions"></div></form></div><img id="e3-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Anivia_0.jpg"/></div></th>
						<th><div class="champ-container"><div style="height: 27px;"><form autocomplete="off"><div class="autocomplete"> <input id="e4" class="ennemie champInputs" type="text" placeholder="Champions"></div></form></div><img id="e4-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/KogMaw_0.jpg"/></div></th>
						<th><div class="champ-container"><div style="height: 27px;"><form autocomplete="off"><div class="autocomplete"> <input id="e5" class="ennemie champInputs" type="text" placeholder="Champions"></div></form></div><img id="e5-img" class="champback" alt="champ-background" src="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/Maokai_0.jpg"/></div></th>
						
                    </tr>
                </table>
            </div>
            <div style="width: 50%;">
                <h2>Rôle :</h2>
                <div id="role-images">
                    <a href="#" onclick="selectRole('Top', this)"><img class="role-image transparent" alt="role-top" src="./img/Position_Challenger-Top.png" alt="Top" /></a>
                    <a href="#" onclick="selectRole('Jungle', this)"><img class="role-image transparent" alt="role-jgl" src="./img/Position_Challenger-Jungle.png" alt="Jungle" /></a>
                    <a href="#" onclick="selectRole('Mid', this)"><img class="role-image transparent" alt="role-mid" src="./img/Position_Challenger-Mid.png" alt="Mid" /></a>
                    <a href="#" onclick="selectRole('ADC', this)"><img class="role-image transparent" alt="role-adc" src="./img/Position_Challenger-Bot.png" alt="Adc" /></a>
                    <a href="#" onclick="selectRole('Support', this)"><img class="role-image transparent" alt="role-sup" src="./img/Position_Challenger-Support.png" alt="Supp" /></a>
                </div>
			

                <h3>Champions favoris:</h3>
                <select id="fav1"></select>
                <select id="fav2"></select>
                <select id="fav3"></select>
                <div class="res"></div>
				<h3>The best champion(s) on this draft will be:</h3>
				<div class="best-champ-res"></div>
            </div>
        </div>
    </main>
    <div><h3>Toutes les statistiques</h3></div>
    <div class="frise">
    </div>
</body>


<footer>
     <p>&copy; 2023 LeagueOfWin. Tous droits réservés.</p>
</footer>
</html>

<script src="./data/avec.js"></script>
<script src="./data/contre.js"></script>
<script src="./data/champ.js"></script>
<script src="./js/autocomplete.js"></script>
<script src="./js/select.js"></script>
<script src="./js/stats.js"></script>
<script src="./js/role.js"></script>
<script>
    var champs = [
        {id: 'a1', name: ''},
        {id: 'a2', name: ''},
        {id: 'a3', name: ''},
        {id: 'a4', name: ''},
        {id: 'a5', name: ''},
        {id: 'e1', name: ''},
        {id: 'e2', name: ''},
        {id: 'e3', name: ''},
        {id: 'e4', name: ''},
        {id: 'e5', name: ''}
    ]


    var champsIcones = []
    for (let i = 0; i < champ.length; i++) {
        let img = new Image()
        img.src = `https://ddragon.leagueoflegends.com/cdn/13.7.1/img/champion/${champ[i].name}.png`
        img.alt = `champ-icone-${i}`
        champsIcones.push({name: champ[i].name, img: img})
    }

    appendsOptionsToId('fav1', createOptionsChamps("Jhin"))
    appendsOptionsToId('fav2', createOptionsChamps("Ashe"))
    appendsOptionsToId('fav3', createOptionsChamps("Jinx"))


    autocomplete(document.getElementById("a1"), champ.map(function(obj) {return obj.name}));
    autocomplete(document.getElementById("a2"), champ.map(function(obj) {return obj.name}));
    autocomplete(document.getElementById("a3"), champ.map(function(obj) {return obj.name}));
    autocomplete(document.getElementById("a4"), champ.map(function(obj) {return obj.name}));
    autocomplete(document.getElementById("a5"), champ.map(function(obj) {return obj.name}));

    autocomplete(document.getElementById("e1"), champ.map(function(obj) {return obj.name}));
    autocomplete(document.getElementById("e2"), champ.map(function(obj) {return obj.name}));
    autocomplete(document.getElementById("e3"), champ.map(function(obj) {return obj.name}));
    autocomplete(document.getElementById("e4"), champ.map(function(obj) {return obj.name}));
    autocomplete(document.getElementById("e5"), champ.map(function(obj) {return obj.name}));


    fav1.addEventListener('change', doAllStats);
    fav2.addEventListener('change', doAllStats);
    fav3.addEventListener('change', doAllStats);

    let champselects = document.getElementsByClassName("champselect")
    for (let i = 0; i < champselects.length; i++) {
        champselects[i].addEventListener('change', () => {modifyOption(champselects[i], i)})
    }


    const champBack = document.getElementsByClassName('champback')[0]
    // Resize les autocompletes à chaque changement de taille de la page
    const resizeObserver = new ResizeObserver(entries => {
        for (const entry of entries) {
            if (entry.target === champBack && entry.contentRect.width !== 0) {
                let inputs = document.querySelectorAll('.champInputs')
                for (let i = 0; i < inputs.length; i++)
                    inputs[i].style.width = `${entry.target.clientWidth}px`
            }
        }
    });
    resizeObserver.observe(champBack);

</script>